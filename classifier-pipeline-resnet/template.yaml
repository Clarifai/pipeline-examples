name: classifier-pipeline-resnet
description: ResNet-based image classification training pipeline
pipeline_template_type: TRAINING
parameters:
- name: user_id
  type: STRING
  required: true
  description: Clarifai user
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.users.list
- name: app_id
  type: STRING
  required: true
  description: Clarifai application
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.apps.list
- name: model_id
  type: STRING
  required: true
  default_string: test_model
  description: Unique identifier for the classifier model being trained
  ui_hints:
    widget: TEXT_INPUT
- name: dataset_id
  type: STRING
  required: true
  description: Clarifai dataset ID containing the training data
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.datasets.list
- name: concepts
  type: STRING
  required: true
  default_string: '["beignets","hamburger","prime_rib","ramen"]'
  description: JSON list of classification concepts
  ui_hints:
    widget: TEXT_INPUT
- name: num_epochs
  type: INT
  required: true
  default_int: 200
  description: Total training epochs
  constraints:
    int_constraints:
      min: 1
      max: 1000
  ui_hints:
    widget: SLIDER
- name: batch_size
  type: INT
  required: true
  default_int: 64
  description: Training batch size
  constraints:
    int_constraints:
      min: 1
      max: 256
  ui_hints:
    widget: SLIDER
- name: image_size
  type: INT
  required: true
  default_int: 224
  description: Input image size (square)
  constraints:
    int_constraints:
      min: 32
      max: 1024
  ui_hints:
    widget: NUMBER_INPUT
- name: per_item_lrate
  type: FLOAT
  required: true
  default_float: 0.00001953125
  description: Per-item learning rate
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: NUMBER_INPUT
- name: weight_decay
  type: FLOAT
  required: true
  default_float: 0.01
  description: Weight decay for optimizer
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: NUMBER_INPUT
- name: per_item_min_lrate
  type: FLOAT
  required: true
  default_float: 1.5625e-8
  description: Per-item minimum learning rate
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: NUMBER_INPUT
- name: warmup_iters
  type: INT
  required: true
  default_int: 5
  description: Number of warmup iterations
  constraints:
    int_constraints:
      min: 0
      max: 100
  ui_hints:
    widget: NUMBER_INPUT
- name: warmup_ratio
  type: FLOAT
  required: true
  default_float: 0.0001
  description: Warmup learning rate ratio
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: NUMBER_INPUT
- name: flip_probability
  type: FLOAT
  required: true
  default_float: 0.5
  description: Probability of flipping images
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: SLIDER
- name: flip_direction
  type: STRING
  required: true
  default_string: horizontal
  description: Direction to randomly flip images
  constraints:
    string_constraints:
      allowed_values:
      - horizontal
      - vertical
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
- name: concepts_mutually_exclusive
  type: BOOL
  required: true
  default_bool: false
  description: Whether concepts are mutually exclusive
  ui_hints:
    widget: TOGGLE
    serialize_as_string: true
- name: pretrained_weights
  type: STRING
  required: true
  default_string: ImageNet-1k
  description: Pretrained weights source
  constraints:
    string_constraints:
      allowed_values:
      - ImageNet-1k
      - None
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
- name: seed
  type: INT
  required: true
  default_int: -1
  description: Random seed to init training
  constraints:
    int_constraints:
      min: -1
      max: 999999
  ui_hints:
    widget: NUMBER_INPUT
