pipeline_step:
  id: "model-version-train-ps"
  user_id: "<YOUR_USER_ID>"
  app_id: "<YOUR_APP_ID>"

build_info:
  python_version: "3.11"
  platform: "linux/amd64"

pipeline_step_compute_info:
  cpu_limit: "4000m"
  cpu_memory: "16Gi"
  num_accelerators: 1
  accelerator_memory: "16Gi"
  accelerator_type: ["NVIDIA-*"]

pipeline_step_input_params:
  - name: user_id
    description: "User ID"
  - name: app_id
    description: "App ID"
  - name: model_id
    description: "Model ID"
  - name: dataset_id
    description: "Dataset ID"
  - name: concepts
    description: "List of class names as JSON array"
  - name: seed
    description: "Random seed (-1 for no seed)"
  - name: image_size
    description: "Image size as JSON array (e.g., [512] for min side, or [height, width])"
  - name: max_aspect_ratio
    description: "Maximum aspect ratio multiplier for min side (when keep_aspect_ratio=True)"
  - name: keep_aspect_ratio
    description: "Whether to keep aspect ratio during resizing"
  - name: batch_size
    description: "Batch size for training"
  - name: num_epochs
    description: "Total number of training epochs"
  - name: min_samples_per_epoch
    description: "Minimum samples per epoch"
  - name: per_item_lrate
    description: "Learning rate per item (overall LR = batch_size * per_item_lrate)"
  - name: pretrained_weights
    description: "Pretrained weights source (e.g., coco)"
  - name: frozen_stages
    description: "Number of frozen backbone stages (0-4)"
  - name: inference_max_batch_size
    description: "Maximum batch size for inference benchmarking"


