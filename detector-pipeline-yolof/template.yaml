name: detector-pipeline-yolof
description: YOLOF-based object detector training pipeline
pipeline_template_type: TRAINING
parameters:
- name: user_id
  type: STRING
  required: true
  description: Clarifai user
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.users.list
- name: app_id
  type: STRING
  required: true
  description: Clarifai application
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.apps.list
- name: model_id
  type: STRING
  required: true
  default_string: test_detector
  description: Unique identifier for the detector model being trained
  ui_hints:
    widget: TEXT_INPUT
- name: dataset_id
  type: STRING
  required: true
  description: Clarifai dataset ID containing the training data
  constraints:
    string_constraints:
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
    data_source: clarifai.datasets.list
- name: concepts
  type: STRING
  required: true
  default_string: '["bird","cat"]'
  description: JSON list of concepts to detect
  ui_hints:
    widget: TEXT_INPUT
- name: seed
  type: INT
  required: true
  default_int: -1
  description: Random seed to init training
  constraints:
    int_constraints:
      min: -1
      max: 999999
  ui_hints:
    widget: NUMBER_INPUT
- name: image_size
  type: STRING
  required: true
  default_string: '[512]'
  description: Input image size specification
  ui_hints:
    widget: TEXT_INPUT
- name: max_aspect_ratio
  type: FLOAT
  required: true
  default_float: 1.5
  description: Maximum aspect ratio when preserving aspect
  constraints:
    float_constraints:
      min: 1.0
      max: 5.0
  ui_hints:
    widget: SLIDER
- name: keep_aspect_ratio
  type: BOOL
  required: true
  default_bool: true
  description: Whether to preserve original image aspect ratio
  ui_hints:
    widget: TOGGLE
    serialize_as_string: true
- name: batch_size
  type: INT
  required: true
  default_int: 16
  description: Training batch size
  constraints:
    int_constraints:
      min: 1
      max: 256
  ui_hints:
    widget: SLIDER
- name: num_epochs
  type: INT
  required: true
  default_int: 100
  description: Total training epochs
  constraints:
    int_constraints:
      min: 1
      max: 200
  ui_hints:
    widget: SLIDER
- name: min_samples_per_epoch
  type: INT
  required: true
  default_int: 300
  description: Minimum samples per epoch
  constraints:
    int_constraints:
      min: 1
      max: 10000
  ui_hints:
    widget: NUMBER_INPUT
- name: per_item_lrate
  type: FLOAT
  required: true
  default_float: 0.001875
  description: Per-item learning rate
  constraints:
    float_constraints:
      min: 0.0
      max: 1.0
  ui_hints:
    widget: NUMBER_INPUT
- name: pretrained_weights
  type: STRING
  required: true
  default_string: coco
  description: Pretrained weights source
  constraints:
    string_constraints:
      allowed_values:
      - coco
      allow_free_text: false
  ui_hints:
    widget: DROPDOWN
- name: frozen_stages
  type: INT
  required: true
  default_int: 1
  description: Number of frozen backbone stages
  constraints:
    int_constraints:
      min: -1
      max: 4
  ui_hints:
    widget: NUMBER_INPUT
- name: inference_max_batch_size
  type: INT
  required: true
  default_int: 2
  description: Maximum batch size for inference
  constraints:
    int_constraints:
      min: 1
      max: 32
  ui_hints:
    widget: NUMBER_INPUT
